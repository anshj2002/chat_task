{% extends 'base.html' %}

{% block content %}
    <h2>Chat with {{ recipient.username }}</h2>

    <div id="chat-box">
        {% for message in messages %}
            {% if message.sender == request.user %}
                <p><strong>You:</strong> {{ message.message }}</p>
            {% else %}
                <p><strong>{{ recipient.username }}:</strong> {{ message.message }}</p>
            {% endif %}
        {% endfor %}
    </div>

    <form method="POST">
        {% csrf_token %}
        <input type="text" name="message" placeholder="Type your message here" required>
        <button type="submit">Send</button>
    </form>
{% endblock %}
